<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <services>
        <!-- Shopware 5.5 Profile -->
        <service id="SwagMigrationNext\Profile\Shopware55\Shopware55Profile">
            <argument type="service" id="swag_migration_data.repository"/>
            <argument type="service" id="SwagMigrationNext\Migration\Converter\ConverterRegistry"/>
            <argument type="service" id="SwagMigrationNext\Migration\Media\MediaFileService"/>
            <argument type="service" id="SwagMigrationNext\Migration\Logging\LoggingService"/>
            <tag name="shopware.migration.profile"/>
        </service>

        <!-- Shopware 5.5 Profile Converter -->
        <service id="SwagMigrationNext\Profile\Shopware55\Converter\ConverterHelperService">
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Converter\ProductConverter">
            <argument type="service" id="SwagMigrationNext\Migration\Mapping\MappingService"/>
            <argument type="service" id="SwagMigrationNext\Profile\Shopware55\Converter\ConverterHelperService"/>
            <argument type="service" id="SwagMigrationNext\Migration\Media\MediaFileService"/>
            <argument type="service" id="SwagMigrationNext\Migration\Logging\LoggingService"/>
            <tag name="shopware.migration.converter"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Converter\TranslationConverter">
            <argument type="service" id="SwagMigrationNext\Migration\Mapping\MappingService"/>
            <argument type="service" id="SwagMigrationNext\Profile\Shopware55\Converter\ConverterHelperService"/>
            <argument type="service" id="SwagMigrationNext\Migration\Logging\LoggingService"/>
            <tag name="shopware.migration.converter"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Converter\CategoryConverter">
            <argument type="service" id="SwagMigrationNext\Migration\Mapping\MappingService"/>
            <argument type="service" id="SwagMigrationNext\Profile\Shopware55\Converter\ConverterHelperService"/>
            <argument type="service" id="SwagMigrationNext\Migration\Logging\LoggingService"/>
            <tag name="shopware.migration.converter"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Converter\MediaConverter">
            <argument type="service" id="SwagMigrationNext\Migration\Mapping\MappingService"/>
            <argument type="service" id="SwagMigrationNext\Profile\Shopware55\Converter\ConverterHelperService"/>
            <argument type="service" id="SwagMigrationNext\Migration\Media\MediaFileService"/>
            <tag name="shopware.migration.converter"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Converter\CustomerConverter">
            <argument type="service" id="SwagMigrationNext\Migration\Mapping\MappingService"/>
            <argument type="service" id="SwagMigrationNext\Profile\Shopware55\Converter\ConverterHelperService"/>
            <argument type="service" id="SwagMigrationNext\Migration\Logging\LoggingService"/>
            <tag name="shopware.migration.converter"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Converter\OrderConverter">
            <argument type="service" id="SwagMigrationNext\Migration\Mapping\MappingService"/>
            <argument type="service" id="SwagMigrationNext\Profile\Shopware55\Converter\ConverterHelperService"/>
            <argument type="service" id="Shopware\Core\Checkout\Cart\Tax\TaxCalculator"/>
            <argument type="service" id="SwagMigrationNext\Migration\Logging\LoggingService"/>
            <tag name="shopware.migration.converter"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Converter\CustomerGroupConverter">
            <argument type="service" id="SwagMigrationNext\Migration\Mapping\MappingService"/>
            <argument type="service" id="SwagMigrationNext\Profile\Shopware55\Converter\ConverterHelperService"/>
            <tag name="shopware.migration.converter"/>
        </service>

        <!-- Shopware 5.5 Gateway -->
        <service id="SwagMigrationNext\Profile\Shopware55\Gateway\Api\Shopware55ApiFactory">
            <tag name="shopware.migration.gateway_factory"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Gateway\Local\Shopware55LocalFactory">
            <tag name="shopware.migration.gateway_factory"/>
        </service>

        <!-- Shopware 5.5 MediaHandler -->
        <service id="SwagMigrationNext\Profile\Shopware55\Media\HttpMediaDownloadService">
            <argument type="service" id="swag_migration_media_file.repository"/>
            <argument type="service" id="Shopware\Core\Content\Media\File\FileSaver"/>
            <argument type="service" id="SwagMigrationNext\Migration\Logging\LoggingService"/>
            <tag name="shopware.migration.media_file_processor"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Media\LocalMediaProcessor">
            <argument type="service" id="swag_migration_media_file.repository"/>
            <argument type="service" id="Shopware\Core\Content\Media\File\FileSaver"/>
            <argument type="service" id="SwagMigrationNext\Migration\Logging\LoggingService"/>
            <argument type="tagged" tag="shopware.migration.media_strategy_resolver"/>
            <tag name="shopware.migration.media_file_processor"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Media\Strategy\Md5StrategyResolver">
            <tag name="shopware.migration.media_strategy_resolver"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Media\Strategy\PlainStrategyResolver">
            <tag name="shopware.migration.media_strategy_resolver"/>
        </service>

        <!-- Shopware 5.5 Dataselector -->
        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\ProductCategoryTranslationDataSelection">
            <tag name="shopware.migration.data_selection"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\CustomerAndOrderDataSelection">
            <tag name="shopware.migration.data_selection"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\MediaDataSelection">
            <tag name="shopware.migration.data_selection"/>
        </service>

        <!-- Shopware 5.5 DataSets -->
        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\DataSet\ProductDataSet">
            <tag name="shopware.migration.data_set" />
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\DataSet\CustomerDataSet">
            <tag name="shopware.migration.data_set" />
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\DataSet\OrderDataSet">
            <tag name="shopware.migration.data_set" />
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\DataSet\CategoryDataSet">
            <tag name="shopware.migration.data_set" />
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\DataSet\CustomerGroupDataSet">
            <tag name="shopware.migration.data_set" />
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\DataSet\MediaDataSet">
            <tag name="shopware.migration.data_set" />
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\DataSelection\DataSet\TranslationDataSet">
            <tag name="shopware.migration.data_set" />
        </service>

        <!-- Shopware 5.5 PreMappingReader -->
        <service id="SwagMigrationNext\Profile\Shopware55\Premapping\OrderStateReader">
            <argument type="service" id="state_machine.repository"/>
            <argument type="service" id="state_machine_state.repository"/>
            <tag name="shopware.migration.pre_mapping_reader"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Premapping\TransactionStateReader">
            <argument type="service" id="state_machine.repository"/>
            <argument type="service" id="state_machine_state.repository"/>
            <tag name="shopware.migration.pre_mapping_reader"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Premapping\PaymentMethodReader">
            <argument type="service" id="payment_method.repository"/>
            <tag name="shopware.migration.pre_mapping_reader"/>
        </service>

        <service id="SwagMigrationNext\Profile\Shopware55\Premapping\ProductManufacturerReader">
            <argument type="service" id="product_manufacturer.repository"/>
            <tag name="shopware.migration.pre_mapping_reader"/>
        </service>
    </services>
</container>
